<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Stranger Things Radio</title>

  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json" />

  <!-- Theme color -->
  <meta name="theme-color" content="#0b0b0b">

  <!-- Apple meta -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="/assets/icon-192.png">

  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <main class="app">
    <header class="topbar">
      <div class="logo">
        <img src="/assets/icon-192.png" alt="logo" />
        <h1>Stranger Things Radio</h1>
      </div>
      <button id="installBtn" class="btn small" aria-label="Install">➕ Add</button>
    </header>

    <section class="player-card">
      <div class="artwork" id="artwork">
        <!-- inline fallback SVG if no image available -->
        <img id="art-img" src="/assets/artwork.svg" alt="artwork" />
        <div class="vhs-glow"></div>
      </div>

      <div class="info">
        <h2 id="title">Stranger Things Radio</h2>
        <p id="subtitle">WSQK — Live Stream</p>

        <div class="controls">
          <button id="btn-rewind" class="btn">⤺ 15s</button>
          <button id="btn-play" class="play-btn" aria-label="Play/Pause">▶</button>
          <button id="btn-forward" class="btn">15s ⤻</button>
        </div>

        <div class="progress-row">
          <input id="progress" type="range" min="0" max="100" value="0" />
          <div class="meta">
            <span id="status">Stopped</span>
            <span id="bitrate">Live</span>
          </div>
        </div>

        <div class="footer-note">
          Stream: <a href="https://media-ssl.musicradio.com/WSQK" target="_blank" rel="noreferrer">WSQK</a>
        </div>
      </div>
    </section>

    <audio id="audio" crossorigin="anonymous" playsinline></audio>
  </main>

  <script src="/app.js" defer></script>
  <script>
    // register service worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(()=>{/* sw failed */});
    }
  </script>
</body>
</html>
